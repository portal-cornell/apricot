<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="APRICOT: Active Preference Learning and Constraint-Aware Task Planning with LLMs">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>APRICOT: Active Preference Learning and Constraint-Aware Task Planning with LLMs</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QR88D4MJ0H"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-QR88D4MJ0H');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/icon.jpg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>
<body>

<!-- <nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://keunhong.com">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://hypernerf.github.io">
            HyperNeRF
          </a>
          <a class="navbar-item" href="https://nerfies.github.io">
            Nerfies
          </a>
          <a class="navbar-item" href="https://latentfusion.github.io">
            LatentFusion
          </a>
          <a class="navbar-item" href="https://photoshape.github.io">
            PhotoShape
          </a>
        </div>
      </div>
    </div>

  </div>
</nav> -->



<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">APRICOT: Active Preference Learning and <br> Constraint-Aware Task Planning with LLMs</h1>

          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://lunay0yuki.github.io/">Yuki (Huaxiaoyue) Wang</a>,</span>
            <span class="author-block">
                <a href="https://portal.cs.cornell.edu/people/">Nathaniel Chin</a>,</span>
            <span class="author-block">
                <a href="https://portal.cs.cornell.edu/people/">Gonzalo Gonzalez-Pumariega</a>,</span>
            <span class="author-block">
                <a href="https://portal.cs.cornell.edu/people/">Xiangwan Sun</a>,</span>
            <span class="author-block">
                <a href="https://portal.cs.cornell.edu/people/">Neha Sunkara</a>,</span>
            <span class="author-block">
                <a href="https://portal.cs.cornell.edu/people/">Maximus Adrian Pace</a>,</span>
            <span class="author-block">
                <a href="https://web.stanford.edu/~bohg/">Jeannette Bohg</a>,</span>
            <span class="author-block">
                <a href="https://www.sanjibanchoudhury.com/">Sanjiban Choudhury</a>            
          </div>

          <!-- write Cornell Univerity in red next line -->
          <br>
          <!-- <hr style="height:0px; visibility:hidden;" /> -->
          <img src="./static/images/cornell-university-logo.png" width="40%"></img>
          <!-- <div class="is-size-3 publication-authors">
            <span class="author-block">Cornell University</span>
          </div> -->

          <div class="column has-text-centered">
            
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- twitter Link. -->
              <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-x-twitter"></i>
                  </span>
                  <span>Summary</span>
                </a>
              </span>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="hero">
    <div class="hero-body">
        <div class="container is-max-desktop">
            <div class="columns is-centered">
                <div class="column has-text-centered">
                    <h1 class="title is-3" >
                        MOSAIC combines large pre-trained models for general tasks with task-specific modules for collaborative cooking
                    </h1>
                    <br>
                    <div class="publication-video">
                        <!-- add a link to youtube video using iframe -->
        
                        <!-- <video poster="" id="shiba" controls playsinline> -->
                        <iframe width="420" height="240" src="https://www.youtube.com/embed/EwiCVS5JfCY" title="Youtube video player" frameBorder="0"   allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"  allowFullScreen></iframe>
                        <!-- <source src="./static/videos/e2e.mp4" type="video/mp4"> -->
                        <!-- </video>  -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- reduce line spacing below -->

<section class="section">
    <div class="container is-max-desktop">
        <!-- Abstract. -->
        <div class="columns is-centered has-text-centered">
            <div class="column is-four-fifths">
                <h2 class="title is-3">Abstract</h2>
                <div class="content has-text-justified">
                    <p>Home robots performing personalized tasks must adeptly balance user preferences with environmental affordances. 
                        We focus on organization tasks within constrained spaces, such as arranging items into a refrigerator, where preferences 
                        for placement collide with physical limitations. The robot must infer user preferences based on a small set of demonstrations, 
                        which is easier for users to provide than extensively defining all their requirements. While recent works use Large Language Models (LLMs) 
                        to learn preferences from user demonstrations, they encounter two fundamental challenges. First, there is inherent ambiguity in 
                        interpreting user actions, as multiple preferences can often explain a single observed behavior. Second, not all user preferences are 
                        practically feasible due to geometric constraints in the environment. To address these challenges, we introduce APRICOT, a novel approach 
                        that merges LLM-based Bayesian active preference learning with constraint-aware task planning. APRICOT refines its generated preferences 
                        by actively querying the user and dynamically adapts its plan to respect environmental constraints. We evaluate APRICOT on a dataset of 
                        diverse organization tasks and demonstrate its effectiveness in real-world scenarios, showing significant improvements in both preference 
                        satisfaction and plan feasibility. </p>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <!-- Dataset -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Method Overview</h2>
        <!-- <div class="publication-video"> -->
          
          
          <img src="./static/images/apricot_method_overview.png">
          <br>
          <br>
          <p style="text-align: left;">
            Overview of APRICOT that: <br>
            (1) converts user visual demonstrations into language-based demonstrations, <br> 
            (2) given demonstrations, determines the preference that best approximates the ground-truth user
            preference by minimally querying the user, <br> 
            (3) generates and refines a plan based on world modelsâ€™ feedback to satisfy preferences and respect constraints, <br> 
            (4) executes the plan in a real robot system.
          </p>
            
        <!-- </div> -->
      </div>
    </div>
    <br>

    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">LLM-Based Bayesian Active Preference Learning</h2>
        <!-- <div class="publication-video"> -->
          <!-- align left -->
          <img src="./static/images/active_pref_learning.png">
          <br>
          <br>
          <!-- write three bullet points next using <ul> -->
          <p style="text-align: left;">
            LLM-Based Bayesian Active Preference Learning Approach. Given a set of language-based demonstrations, APRICOT <br>
            (1) proposes candidate preferences and corresponding candidate plans, <br>
            (2) determines whether to terminate by evaluating whether the prior over candidate preferences P(âœ“) is sufficient, <br> 
            (3) select the optimal question that maximizes information gain before updating its prior based on user answers.
          </p>
      </div>
    </div>
    <br>

    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Simulation Results</h2>
        <!-- <div class="publication-video"> -->
          <!-- align left -->
          
          
          
          <img src="./static/images/sim_results.png">
          <br>
          <br>
          <p style="text-align: left;">
            <b> Active Preference Learning Results on Benchmark Dataset. </b> APRICOT achieves the highest preference accuracy 58%, which is the percentage of outputted preferences that are equivalent to the ground-truth
            preference, while asking the user the smallest amount of questions (2.15 on average).
          </p>
            
        <!-- </div> -->
      </div>
    </div>
    <br>

    <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Real Robot Results</h2>
          <!-- <div class="publication-video"> -->
            <!-- align left -->
            
            
            
            <img src="./static/images/real_robot_results.png">
            <br>
            <br>
            <p style="text-align: left;">
              <b> Task Planner Results on Real-Robot Scenarios. </b> Evaluated on 9 scenarios with 3 difficulty levels.
              The qualitative example below APRICOT generating a plan that satisfies preferences and respect constraints.
            </p>
              
          <!-- </div> -->
        </div>
      </div>
      <br>
  </div>
</section>

<section class="hero"></section>
    <div class="hero-body">
        <div class="container is-max-desktop">
            <div class="columns is-centered">
                <div class="column has-text-centered">
                    <h1 class="title is-3" >
                        Real Robot Montage
                    </h1>
                    <br>
                    <div class="publication-video">
                        <video id="stage1" height="70%" autoplay loop muted>
                            <source src="./static/videos/real_robot_montage.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="section">
  <div class="container is-max-desktop">

    <div class="columns is-centered has-text-centered">
      <div class="column" id="Paper">
        <h2 class="title is-3">Paper</h2>
    <div class="paper-thumbnail">
        <a href="https://arxiv.org/abs/2402.18796.pdf">
            <img class="layered-paper-big" width="100%" src="./static/images/preview_apricot.png" alt="Paper thumbnail"/>
        </a>
    </div>
    <div class="paper-info">
        <!-- <a href="https://openreview.net/forum?id=rxlokRzNWRq"><h3>ManiCast: Collaborative Manipulation with Cost-Aware Human Forecasting</h3></a>
        <p>Kushal Kedia, Prithwish Dan, Atiksh Bhardwaj, Sanjiban Choudhury</p> -->
        <h3 class="title is-4" style="text-align: center;">BibTex</h3>
<pre style="overflow-x:hidden; text-wrap:wrap; white-space: pre-wrap;"><code>
  <!-- @misc{wang2024mosaic,
  title={MOSAIC: A Modular System for Assistive and Interactive Cooking}, 
  author={Huaxiaoyue Wang and Kushal Kedia and Juntao Ren and Rahma Abdullah and Atiksh Bhardwaj and Angela Chao and Kelly Y Chen and Nathaniel Chin and Prithwish Dan and Xinyi Fan and Gonzalo Gonzalez-Pumariega and Aditya Kompella and Maximus Adrian Pace and Yash Sharma and Xiangwan Sun and Neha Sunkara and Sanjiban Choudhury},
  year={2024},
  eprint={2402.18796},
  archivePrefix={arXiv},
  primaryClass={cs.RO}
}    -->
</code></pre> 
    </div>
    </div>
  <!-- <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@inproceedings{
    kedia2023manicast,
    title={ManiCast: Collaborative Manipulation with Cost-Aware Human Forecasting},
    author={Kushal Kedia and Prithwish Dan and Atiksh Bhardwaj and Sanjiban Choudhury},
    booktitle={7th Annual Conference on Robot Learning},
    year={2023},
    url={https://openreview.net/forum?id=rxlokRzNWRq}
}</code></pre>
  </div> -->
</div>
</section>

<br>


<footer class="footer">
  <div class="container">
    <!-- <div class="content has-text-centered">
      <a class="icon-link"
         href="./static/videos/nerfies_paper.pdf">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/keunhong" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div> -->
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content has-text-centered">
          <p>
            Website template borrowed from <a
              href="https://github.com/nerfies/nerfies.github.io">NeRFies</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
